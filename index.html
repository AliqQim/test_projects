<html>
<head>
    <script src="jquery-3.1.1.js"></script>
    <script src="jstree/jstree.js"></script>
    <link href="jstree/themes/default/style.css" rel="stylesheet" />
</head>
<body>
    <div>
        <a href="#" onclick="btnClick()" title="кнопко">кнопко</a>
    </div>
    <div id="jstree" />

    
           

    <script>
        $(function () {
            $('#jstree').jstree({
                'plugins': ["wholerow", "checkbox"],
                'core': {
                    'data': [
                        {
                            "text": "Same but with checkboxes",
                            "children": [
                                { "text": "initially selected", "state": { "selected": true }, id: 'aydi', addit_info: "ura" },
                                {
                                    "text": "custom icon URL", "icon": "//jstree.com/tree-icon.png",
                                    li_attr: { "aydishnik": "22654411" }
                                },
                                { "text": "initially open", "state": { "opened": true }, "children": ["Another node"] },
                                { "text": "custom icon class", "icon": "glyphicon glyphicon-leaf" }
                            ]
                        },
                        "And wholerow selection"
                    ]
                }
            });
        });

        function btnClick() {
            var checked_ids = [];
            var returnChildCheckedNodesAlso = true; //By default these functions return only top level checked/unchecked nodes
            var elements = $("#jstree").jstree("get_checked", null, true)
            $.each(elements, function () {
                checked_ids.push(this);
            });

            alert(checked_ids.join(", "));
        }

    </script>

</body>
</html>